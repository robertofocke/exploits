# -*- coding: utf-8 -*- 

import socks

miList=[]
archivo=raw_input('Archivo con palabras claves: ')
dominio=raw_input('Dominio: ')
serv=raw_input('servidor smtp: ')

archivo = open(archivo)
lineas = archivo.readlines()

sock=socks.socksocket()
sock.connect((serv, 25))
print sock.recv(255)
sock.send('helo malitos.com\n')
print sock.recv(255)
sock.send('MAIL FROM:<malo@malitos.com>\n')
print sock.recv(255)

for estemail in lineas:
	
	sock.send('rcpt to:<'+estemail[:-1]+'@'+dominio+'>\n')
	esta=sock.recv(255)
	if esta[0:3] == '250':
		print 'Bingo '+estemail[:-1]+'@'+dominio  
